<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Selamat Pagi Sayang â˜€ï¸ğŸ’‘</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&amp;family=Quicksand:wght@400;500;600&amp;display=swap" rel="stylesheet">
  <style>
    .font-romantic { font-family: 'Dancing Script', cursive; }
    .font-body { font-family: 'Quicksand', sans-serif; }
    
    html, body { height: 100%; }
    
    /* Floating clouds */
    .cloud {
      position: absolute;
      animation: cloudFloat 8s ease-in-out infinite;
      opacity: 0.8;
    }
    
    @keyframes cloudFloat {
      0%, 100% { transform: translateX(0) translateY(0); }
      50% { transform: translateX(30px) translateY(-10px); }
    }
    
    /* Sunshine rays */
    .sun-ray {
      animation: sunRay 2s ease-in-out infinite;
    }
    
    @keyframes sunRay {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }
    
    /* Button Effects */
    .btn-morning {
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 165, 0, 0.3);
    }
    .btn-morning:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 25px rgba(255, 165, 0, 0.5);
    }
    
    /* Bright glow effect */
    .morning-glow {
      box-shadow: 0 0 30px rgba(255, 200, 0, 0.4), inset 0 0 20px rgba(255, 255, 255, 0.3);
    }
    
    /* Sun glow */
    .sun-glow {
      animation: sunGlow 3s ease-in-out infinite;
    }
    
    @keyframes sunGlow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 165, 0, 0.6); }
      50% { box-shadow: 0 0 40px rgba(255, 200, 0, 0.8); }
    }
    
    /* Heart animation */
    .floating-heart {
      animation: heartFloat 4s ease-in infinite;
      opacity: 0.7;
    }
    
    @keyframes heartFloat {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      50% { transform: translateY(-40px) rotate(10deg); opacity: 0.8; }
      100% { transform: translateY(-80px) rotate(-10deg); opacity: 0; }
    }
    
    /* Letter animation */
    .letter-overlay {
      backdrop-filter: blur(10px);
      animation: fadeIn 0.3s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .letter-content {
      animation: letterOpen 0.6s ease-out;
    }
    
    @keyframes letterOpen {
      0% { transform: scale(0.5) rotateX(90deg); opacity: 0; }
      100% { transform: scale(1) rotateX(0deg); opacity: 1; }
    }
    
    /* Sparkle effect */
    .sparkle {
      animation: sparkle 1.5s ease-in-out infinite;
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0.3; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    
    /* Couple animation */
    .couple-scene {
      animation: sceneAppear 0.8s ease-out;
    }
    
    @keyframes sceneAppear {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .bear-left {
      animation: moveLeft 2s ease-in-out forwards;
    }
    
    @keyframes moveLeft {
      0% { transform: translateX(-100px); opacity: 0; }
      50% { transform: translateX(0); opacity: 1; }
      100% { transform: translateX(0); opacity: 1; }
    }
    
    .bear-right {
      animation: moveRight 1s ease-out 0.5s forwards;
      opacity: 0;
    }
    
    @keyframes moveRight {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .sun-rise {
      animation: sunRise 2s ease-in-out 1.5s forwards;
      opacity: 0;
    }
    
    @keyframes sunRise {
      0% { transform: translateY(80px) scale(0.5); opacity: 0; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full font-body">
  <div id="app-container" class="h-full w-full overflow-auto relative" style="background: linear-gradient(135deg, #87CEEB 0%, #FFD700 50%, #FFA500 100%);"><!-- Clouds Background -->
   <div class="absolute inset-0 overflow-hidden pointer-events-none"><span class="cloud" style="left: 10%; top: 15%; animation-delay: 0s; font-size: 48px;">â˜ï¸</span> <span class="cloud" style="left: 60%; top: 10%; animation-delay: 1s; font-size: 40px;">â˜ï¸</span> <span class="cloud" style="left: 80%; top: 40%; animation-delay: 2s; font-size: 36px;">â˜ï¸</span> <span class="cloud" style="left: 20%; top: 60%; animation-delay: 1.5s; font-size: 44px;">â˜ï¸</span> <span class="sun-ray" style="left: 5%; top: 30%; font-size: 20px;">âœ¨</span> <span class="sun-ray" style="left: 90%; top: 50%; font-size: 18px; animation-delay: 0.5s;">âœ¨</span> <span class="sun-ray" style="left: 50%; top: 75%; font-size: 16px; animation-delay: 1s;">âœ¨</span>
   </div><!-- Main Content -->
   <main class="relative z-10 flex flex-col items-center justify-center min-h-full px-4 py-8"><!-- Sun & Title -->
    <div class="text-center mb-12">
     <div class="mb-6 inline-block">
      <svg width="120" height="120" viewbox="0 0 120 120" class="sun-glow"><defs>
        <radialgradient id="sunGradient">
         <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
         <stop offset="100%" style="stop-color:#FFA500;stop-opacity:1" />
        </radialgradient>
       </defs> <circle cx="60" cy="60" r="50" fill="url(#sunGradient)" /> <g stroke="#FFD700" stroke-width="4" stroke-linecap="round">
        <line x1="60" y1="0" x2="60" y2="15" />
        <line x1="60" y1="105" x2="60" y2="120" />
        <line x1="0" y1="60" x2="15" y2="60" />
        <line x1="105" y1="60" x2="120" y2="60" />
        <line x1="20" y1="20" x2="32" y2="32" />
        <line x1="88" y1="88" x2="100" y2="100" />
        <line x1="100" y1="20" x2="88" y2="32" />
        <line x1="32" y1="88" x2="20" y2="100" />
       </g>
      </svg>
     </div>
     <h1 id="main-title" class="font-romantic text-5xl md:text-7xl mb-4" style="color: #FF6B35; text-shadow: 0 0 30px rgba(255, 107, 53, 0.3);">Selamat Pagi</h1>
     <p id="recipient-display" class="text-2xl md:text-3xl font-romantic" style="color: #FF8C42;">Untuk Orang Tersayang ğŸ’•</p>
    </div><!-- Buttons Section -->
    <div class="flex flex-col sm:flex-row gap-6 mb-8"><!-- Message Button --> <button id="btn-message" class="btn-morning px-8 py-4 rounded-full text-white font-semibold text-lg flex items-center gap-3" style="background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);">
      <svg width="28" height="28" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2" /> <path d="M22 6L12 13L2 6" />
      </svg> Baca Pesan Pagi ğŸ’Œ </button> <!-- Animation Button --> <button id="btn-moment" class="btn-morning px-8 py-4 rounded-full text-white font-semibold text-lg flex items-center gap-3" style="background: linear-gradient(135deg, #FFD700 0%, #FF8C42 100%);"> <span class="text-2xl">â˜€ï¸</span> Lihat Momen Indah âœ¨ </button>
    </div><!-- Signature -->
    <p id="sender-display" class="text-lg font-romantic" style="color: #FF6B35;">Dengan sepenuh cinta ğŸ’‘</p>
   </main><!-- Message Letter Overlay -->
   <div id="message-overlay" class="fixed inset-0 z-50 hidden items-center justify-center p-4 letter-overlay" style="background: rgba(0, 0, 0, 0.5);">
    <div class="letter-content max-w-2xl w-full rounded-3xl relative overflow-hidden morning-glow" style="background: linear-gradient(135deg, #FFFACD 0%, #FFE4B5 50%, #FFDAB9 100%); border: 2px solid rgba(255, 165, 0, 0.3);"><!-- Top Border Glow -->
     <div class="absolute top-0 left-0 right-0 h-1" style="background: linear-gradient(90deg, transparent, #FFA500, transparent);"></div><!-- Close Button --> <button id="close-message" class="absolute top-6 right-6 w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 z-10 text-2xl" style="background: rgba(255, 165, 0, 0.1); color: #FF6B35; border: 2px solid rgba(255, 165, 0, 0.3);"> âœ• </button> <!-- Letter Content -->
     <div class="px-8 md:px-12 py-10 md:py-12"><!-- Top Decoration -->
      <div class="text-center mb-6">
       <div class="inline-block"><span class="text-5xl block mb-2">â˜€ï¸</span>
        <div class="flex justify-center gap-3"><span class="text-xl sparkle">âœ¨</span> <span class="text-2xl">ğŸ’•</span> <span class="text-xl sparkle">âœ¨</span>
        </div>
       </div>
      </div><!-- Title -->
      <h2 class="font-romantic text-center text-5xl mb-2" style="color: #FF6B35;">Pagi Penuh Harapan</h2>
      <div class="text-center mb-8">
       <div class="w-20 h-1 mx-auto" style="background: linear-gradient(90deg, transparent, #FF8C42, transparent);"></div>
      </div><!-- Message Content -->
      <div class="space-y-5 mb-8" style="color: #8B4513;"><!-- Greeting -->
       <p id="letter-recipient" class="font-romantic text-3xl text-center" style="color: #FF6B35; margin-bottom: 12px;">Sayang,</p><!-- Message -->
       <div class="space-y-4 text-lg leading-7">
        <p id="letter-message">Pagi ini bersinar lebih terang karena aku berpikir tentang dirimu. Semoga harimu penuh dengan kebahagiaan, kesuksesan, dan senyuman yang indah.</p>
        <p>Terima kasih telah menjadi alasan ku untuk bangun setiap pagi dengan penuh semangat dan cinta.</p>
        <p>Semoga hari ini membawa berkah dan keberuntungan untuk kita berdua. Aku selalu ada di sisimu.</p>
       </div><!-- Signature -->
       <div class="text-center pt-6 border-t border-orange-200" style="border-top-color: rgba(255, 165, 0, 0.3);">
        <p id="letter-sender" class="font-romantic text-3xl" style="color: #FF6B35; margin-bottom: 4px;">~ Cinta Kamu ğŸ’‘</p>
        <p class="text-sm" style="color: #D2691E;">Selamanya untukmu</p>
       </div>
      </div><!-- Bottom Decoration -->
      <div class="flex justify-center gap-4 mb-4 mt-8"><span class="text-2xl animate-pulse">ğŸ’•</span> <span class="text-3xl animate-pulse" style="animation-delay: 0.2s;">â˜€ï¸</span> <span class="text-2xl animate-pulse" style="animation-delay: 0.4s;">ğŸ’•</span>
      </div><!-- Sweet ending -->
      <div class="text-center space-y-2">
       <p class="font-romantic text-sm" style="color: #FF6B35; letter-spacing: 2px;">Selamat Pagi Sayang âœ¨</p>
      </div>
     </div><!-- Bottom Border Glow -->
     <div class="absolute bottom-0 left-0 right-0 h-1" style="background: linear-gradient(90deg, transparent, #FFA500, transparent);"></div>
    </div>
   </div><!-- Special Moment Animation Overlay -->
   <div id="moment-overlay" class="fixed inset-0 z-50 hidden items-center justify-center p-4" style="background: linear-gradient(135deg, rgba(135, 206, 235, 0.9) 0%, rgba(255, 215, 0, 0.9) 100%);">
    <div class="couple-scene max-w-2xl w-full text-center"><!-- Close Button --> <button id="close-moment" class="absolute top-4 right-4 w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 z-10" style="background: rgba(255, 165, 0, 0.2); color: #FF6B35; border: 2px solid rgba(255, 165, 0, 0.4); font-size: 24px;"> âœ• </button> <!-- Scene Title -->
     <h2 class="font-romantic text-4xl md:text-5xl mb-8" style="color: #FF6B35;">Momen Indah Pagi ğŸŒ…ğŸ’‘</h2><!-- Couple Scene -->
     <div class="relative h-80 md:h-96 rounded-3xl overflow-hidden" style="background: linear-gradient(180deg, #87CEEB 0%, #FFE4B5 50%, #FFDC99 100%); border: 2px solid rgba(255, 165, 0, 0.3);"><!-- Clouds in background -->
      <div class="absolute top-8 left-10 text-4xl cloud" style="animation-delay: 0s;">
       â˜ï¸
      </div>
      <div class="absolute top-16 right-16 text-3xl cloud" style="animation-delay: 1s;">
       â˜ï¸
      </div>
      <div class="absolute top-1/3 left-1/4 text-2xl cloud" style="animation-delay: 2s;">
       â˜ï¸
      </div><!-- Grass -->
      <div class="absolute bottom-0 left-0 right-0 h-24" style="background: linear-gradient(180deg, #90EE90 0%, #7CCD7C 50%, #228B22 100%);"></div><!-- Flowers on grass -->
      <div class="absolute bottom-24 left-16 text-3xl">
       ğŸŒ»
      </div>
      <div class="absolute bottom-20 left-32 text-3xl">
       ğŸŒ¸
      </div>
      <div class="absolute bottom-24 right-16 text-3xl">
       ğŸŒº
      </div>
      <div class="absolute bottom-20 right-32 text-3xl">
       ğŸŒ¼
      </div><!-- Boy Bear (Left) -->
      <div class="bear-left absolute bottom-24 left-1/4 transform -translate-x-1/2">
       <svg width="100" height="130" viewbox="0 0 100 130"><!-- Ears --> <circle cx="20" cy="20" r="15" fill="#8B4513" /> <circle cx="20" cy="20" r="8" fill="#D2691E" /> <circle cx="80" cy="20" r="15" fill="#8B4513" /> <circle cx="80" cy="20" r="8" fill="#D2691E" /> <!-- Head --> <circle cx="50" cy="40" r="35" fill="#8B4513" /> <!-- Face --> <ellipse cx="50" cy="48" rx="22" ry="18" fill="#D2691E" /> <!-- Eyes happy --> <circle cx="38" cy="35" r="5" fill="#2d1810" /> <circle cx="62" cy="35" r="5" fill="#2d1810" /> <circle cx="40" cy="33" r="2" fill="white" /> <circle cx="64" cy="33" r="2" fill="white" /> <!-- Nose --> <ellipse cx="50" cy="46" rx="6" ry="5" fill="#2d1810" /> <!-- Happy smile --> <path d="M42 55 Q50 62 58 55" stroke="#2d1810" stroke-width="2" fill="none" stroke-linecap="round" /> <!-- Blush --> <circle cx="32" cy="50" r="5" fill="#ffb6c1" opacity="0.5" /> <circle cx="68" cy="50" r="5" fill="#ffb6c1" opacity="0.5" /> <!-- Body --> <ellipse cx="50" cy="95" rx="30" ry="28" fill="#8B4513" /> <!-- Shirt --> <ellipse cx="50" cy="95" rx="28" ry="20" fill="#FF8C42" /> <!-- Heart on chest --> <text x="45" y="100" font-size="20">
         ğŸ’™
        </text>
       </svg>
      </div><!-- Girl Bear (Right) -->
      <div class="bear-right absolute bottom-24 right-1/4 transform translate-x-1/2">
       <svg width="100" height="130" viewbox="0 0 100 130"><!-- Ears with ribbons --> <circle cx="20" cy="20" r="15" fill="#A0522D" /> <circle cx="20" cy="20" r="8" fill="#DEB887" /> <circle cx="80" cy="20" r="15" fill="#A0522D" /> <circle cx="80" cy="20" r="8" fill="#DEB887" /> <!-- Flower crown --> <text x="35" y="15" font-size="16">
         ğŸŒ¸
        </text> <text x="50" y="10" font-size="16">
         ğŸŒ»
        </text> <text x="65" y="15" font-size="16">
         ğŸŒ¸
        </text> <!-- Hair long --> <ellipse cx="50" cy="15" rx="40" ry="20" fill="#DAA520" /> <path d="M18 35 Q12 55 18 80" fill="#DAA520" /> <path d="M82 35 Q88 55 82 80" fill="#DAA520" /> <!-- Head --> <circle cx="50" cy="40" r="35" fill="#A0522D" /> <!-- Face --> <ellipse cx="50" cy="48" rx="22" ry="18" fill="#DEB887" /> <!-- Beautiful eyes --> <circle cx="38" cy="35" r="6" fill="#2d1810" /> <circle cx="62" cy="35" r="6" fill="#2d1810" /> <circle cx="40" cy="32" r="2" fill="white" /> <circle cx="64" cy="32" r="2" fill="white" /> <!-- Eyelashes --> <path d="M35 30 L33 25" stroke="#2d1810" stroke-width="1.5" /> <path d="M40 28 L40 22" stroke="#2d1810" stroke-width="1.5" /> <path d="M45 30 L47 25" stroke="#2d1810" stroke-width="1.5" /> <path d="M55 30 L53 25" stroke="#2d1810" stroke-width="1.5" /> <path d="M60 28 L60 22" stroke="#2d1810" stroke-width="1.5" /> <path d="M65 30 L67 25" stroke="#2d1810" stroke-width="1.5" /> <!-- Nose --> <ellipse cx="50" cy="46" rx="5" ry="4" fill="#2d1810" /> <!-- Sweet smile --> <path d="M42 55 Q50 63 58 55" stroke="#2d1810" stroke-width="2" fill="none" stroke-linecap="round" /> <!-- Blush bigger --> <circle cx="32" cy="50" r="7" fill="#ffb6c1" opacity="0.6" /> <circle cx="68" cy="50" r="7" fill="#ffb6c1" opacity="0.6" /> <!-- Body --> <ellipse cx="50" cy="95" rx="30" ry="28" fill="#A0522D" /> <!-- Dress --> <ellipse cx="50" cy="100" rx="28" ry="25" fill="#FFD700" /> <!-- Flower on dress --> <text x="44" y="108" font-size="16">
         ğŸŒ¼
        </text>
       </svg>
      </div><!-- Love Hearts Float -->
      <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
       <div style="position: relative; width: 200px; height: 100px;"><span style="position: absolute; top: -20px; left: -30px; font-size: 24px; animation: heartFloat 4s ease-in infinite;">ğŸ’•</span> <span style="position: absolute; top: -35px; left: 0px; font-size: 28px; animation: heartFloat 4s ease-in infinite; animation-delay: 0.2s;">ğŸ’—</span> <span style="position: absolute; top: -20px; left: 30px; font-size: 24px; animation: heartFloat 4s ease-in infinite; animation-delay: 0.4s;">ğŸ’•</span> <span style="position: absolute; top: 0px; left: -40px; font-size: 20px; animation: heartFloat 4s ease-in infinite; animation-delay: 0.6s;">âœ¨</span> <span style="position: absolute; top: 0px; left: 40px; font-size: 20px; animation: heartFloat 4s ease-in infinite; animation-delay: 0.8s;">âœ¨</span>
       </div>
      </div><!-- Rising sun effect -->
      <div class="sun-rise absolute top-12 left-1/2 transform -translate-x-1/2 text-6xl">
       â˜€ï¸
      </div>
     </div><!-- Message Below Scene -->
     <p class="font-romantic text-2xl md:text-3xl mt-8" style="color: #FF6B35;">"Setiap pagi indah dimulai dengan pikiranmu" ğŸ’‘</p><!-- Romantic Note -->
     <p class="text-lg mt-4" style="color: #8B4513;">Semoga harimu penuh dengan kebahagiaan dan kasih sayang dari kami ğŸŒ…âœ¨</p><!-- Replay Button --> <button id="replay-moment" class="mt-6 px-6 py-3 rounded-full text-white font-semibold transition-all hover:scale-105" style="background: linear-gradient(135deg, #FF8C42 0%, #FF6B35 100%);"> ğŸ”„ Putar Ulang Animasi </button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      recipient_name: "Sayang",
      sender_name: "Cintamu",
      love_message: "Pagi ini bersinar lebih terang karena aku berpikir tentang dirimu. Semoga harimu penuh dengan kebahagiaan, kesuksesan, dan senyuman yang indah.",
      background_color: "#87CEEB",
      primary_color: "#FF6B35",
      secondary_color: "#FF8C42",
      text_color: "#D2691E",
      accent_color: "#FFD700"
    };

    // DOM Elements
    const messageOverlay = document.getElementById('message-overlay');
    const momentOverlay = document.getElementById('moment-overlay');
    const btnMessage = document.getElementById('btn-message');
    const btnMoment = document.getElementById('btn-moment');
    const closeMessage = document.getElementById('close-message');
    const closeMoment = document.getElementById('close-moment');
    const replayMoment = document.getElementById('replay-moment');

    // Open Message
    btnMessage.addEventListener('click', () => {
      messageOverlay.classList.remove('hidden');
      messageOverlay.classList.add('flex');
    });

    // Close Message
    closeMessage.addEventListener('click', () => {
      messageOverlay.classList.add('hidden');
      messageOverlay.classList.remove('flex');
    });

    // Open Moment
    btnMoment.addEventListener('click', () => {
      momentOverlay.classList.remove('hidden');
      momentOverlay.classList.add('flex');
      restartAnimations();
    });

    // Close Moment
    closeMoment.addEventListener('click', () => {
      momentOverlay.classList.add('hidden');
      momentOverlay.classList.remove('flex');
    });

    // Replay Animation
    replayMoment.addEventListener('click', restartAnimations);

    function restartAnimations() {
      const scene = document.querySelector('.couple-scene');
      const leftBear = document.querySelector('.bear-left');
      const rightBear = document.querySelector('.bear-right');
      
      [scene, leftBear, rightBear].forEach(el => {
        if (el) {
          const classes = el.className;
          el.className = '';
          void el.offsetWidth;
          el.className = classes;
        }
      });
    }

    // Close overlays when clicking outside
    messageOverlay.addEventListener('click', (e) => {
      if (e.target === messageOverlay) {
        messageOverlay.classList.add('hidden');
        messageOverlay.classList.remove('flex');
      }
    });

    momentOverlay.addEventListener('click', (e) => {
      if (e.target === momentOverlay) {
        momentOverlay.classList.add('hidden');
        momentOverlay.classList.remove('flex');
      }
    });

    // Element SDK Integration
    async function onConfigChange(config) {
      const recipientName = config.recipient_name || defaultConfig.recipient_name;
      const senderName = config.sender_name || defaultConfig.sender_name;
      const loveMessage = config.love_message || defaultConfig.love_message;
      const bgColor = config.background_color || defaultConfig.background_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;
      const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;

      // Update text content
      document.getElementById('recipient-display').textContent = `Untuk ${recipientName} ğŸ’•`;
      document.getElementById('sender-display').textContent = `Dari ${senderName} ğŸ’‘`;
      document.getElementById('letter-recipient').textContent = `${recipientName},`;
      document.getElementById('letter-message').textContent = loveMessage;
      document.getElementById('letter-sender').textContent = `~ ${senderName} ğŸ’‘`;

      // Update colors
      document.getElementById('app-container').style.background = `linear-gradient(135deg, ${bgColor} 0%, ${adjustColor(bgColor, 30)} 50%, ${adjustColor(bgColor, 40)} 100%)`;
      document.getElementById('main-title').style.color = primaryColor;
      document.getElementById('recipient-display').style.color = secondaryColor;
      document.getElementById('sender-display').style.color = primaryColor;
      
      btnMessage.style.background = `linear-gradient(135deg, ${secondaryColor} 0%, ${primaryColor} 100%)`;
      btnMoment.style.background = `linear-gradient(135deg, ${accentColor} 0%, ${secondaryColor} 100%)`;
    }

    function adjustColor(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const amt = Math.round(2.55 * percent);
      const R = Math.max(0, Math.min(255, (num >> 16) + amt));
      const G = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amt));
      const B = Math.max(0, Math.min(255, (num & 0x0000FF) + amt));
      return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); }
          },
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => { config.primary_color = value; window.elementSdk.setConfig({ primary_color: value }); }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => { config.secondary_color = value; window.elementSdk.setConfig({ secondary_color: value }); }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => { config.accent_color = value; window.elementSdk.setConfig({ accent_color: value }); }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["recipient_name", config.recipient_name || defaultConfig.recipient_name],
        ["sender_name", config.sender_name || defaultConfig.sender_name],
        ["love_message", config.love_message || defaultConfig.love_message]
      ]);
    }

    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cddc9fec451fde0',t:'MTc3MTA4NDkzOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
